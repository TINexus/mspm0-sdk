<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DRV8323RS GUI User Guide &mdash; Sensorless FOC Motor Control User Guide 1.0 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="DRV8323RS Hardware User Guide" href="DRV8323RS_Hardware_User_Guide.html" />
    <link rel="prev" title="Sensorless FOC Motor Control Library Overview" href="../Sensorless_FOC_Motor_Control_User_Guide.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Sensorless FOC Motor Control User Guide
          </a>
              <div class="version">
                1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Sensorless_FOC_Motor_Control_User_Guide.html">Sensorless FOC Motor Control Library Overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">DRV8323RS GUI User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#getting-started-with-gui">1. Getting Started with GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-the-gui">2. Using the GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gui-window">3. GUI Window</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#parameters">3.1 Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tuning">3.2 Tuning</a></li>
<li class="toctree-l3"><a class="reference internal" href="#control">3.3 Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="#protection">3.4 Protection</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fault-status">3.5 Fault Status</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stats">3.6 Stats</a></li>
<li class="toctree-l3"><a class="reference internal" href="#plots">3.7 Plots</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="DRV8323RS_Hardware_User_Guide.html">DRV8323RS Hardware User Guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Sensorless FOC Motor Control User Guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>DRV8323RS GUI User Guide</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="drv8323rs-gui-user-guide">
<h1>DRV8323RS GUI User Guide<a class="headerlink" href="#drv8323rs-gui-user-guide" title="Permalink to this heading">¶</a></h1>
<p>The GUI used in this guide can be found <a class="reference external" href="https://dev.ti.com/gallery/view/TIMSPGC/MSPM0G-DRV8323RS-EVM-GUI">here</a>.</p>
<section id="getting-started-with-gui">
<h2>1. Getting Started with GUI<a class="headerlink" href="#getting-started-with-gui" title="Permalink to this heading">¶</a></h2>
<p>The GUI allows the user to configure various settings required for Sensorless FOC motor control. The user can adjust settings like motor speed reference, set parameters and other device settings, as well as monitoring the device status.</p>
<p>Perform the following steps to begin using the GUI:</p>
<ol class="arabic simple">
<li><p>Connect the BLDC motor to the EVM.</p></li>
<li><p>Make the necessary connections for connecting LP-MSPM0G3507 to BOOSTXL-DRV8323RS. For detailed steps refer to <a class="reference external" href="DRV8323RS_Hardware_User_Guide.html">Hardware User Guide</a>.</p></li>
<li><p>Plug in the micro-USB cable to the PC.</p></li>
<li><p>Enable the power supply to EVM.</p></li>
<li><p>Launch the <a class="reference external" href="https://dev.ti.com/gallery/view/TIMSPGC/MSPM0G-DRV8323RS-EVM-GUI">MSPM0G-DRV8323RS-EVM-GUI</a>.</p></li>
<li><p>Set motor and system parameters as shown in Section 3.1 Parameters.</p></li>
<li><p>Click “Enable System” to lock the motor and system parameters.</p></li>
<li><p>Change the Motor State from “Align” to “Open Loop” to spin the motor in open loop with Speed Reference and Iq Reference set in per unit.</p></li>
<li><p>Change the Motor State from “Open Loop” to “Closed Loop” to spin the motor in closed loop speed control.</p></li>
<li><p>Tune the closed loop handoff using PI gains for Id, and the closed speed and torque loop performance using the PI gains for speed and Iq.</p></li>
</ol>
</section>
<section id="using-the-gui">
<h2>2. Using the GUI<a class="headerlink" href="#using-the-gui" title="Permalink to this heading">¶</a></h2>
<p>The GUI when launched will automatically try to establish communication with the device. If this does not happen or if user needs to disconnect, the user can click on the link icon shown on the left side in the image shown below.</p>
<p>A message showing “Connecting to target…” will be displayed when the GUI tries to connect to the board in the hardware connection status pane which is located at the bottom of GUI window. If the connection is successful, ‘Hardware connected’ message appears, as shown in the image below.</p>
<figure class="align-default" id="id1">
<img alt="Hardware connected" src="../../_images/GUI-hardware_connected.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 7 </span><span class="caption-text">Hardware connected</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="gui-window">
<h2>3. GUI Window<a class="headerlink" href="#gui-window" title="Permalink to this heading">¶</a></h2>
<p>In the GUI Window user can find various controls to enable system, control the bldc motor, and configure various parameters such as pwm frequency, deadband and so forth. Hover over the control widgets to display the brief description on its actions.</p>
<figure class="align-default" id="id2">
<img alt="GUI window" src="../../_images/GUI-window.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 8 </span><span class="caption-text">GUI window</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<section id="parameters">
<h3>3.1 Parameters<a class="headerlink" href="#parameters" title="Permalink to this heading">¶</a></h3>
<p>The GUI allows to modify the FOC parameters like motor resistance, deadband etc.</p>
<figure class="align-default" id="id3">
<img alt="FOC parameters" src="../../_images/GUI-parameters.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 9 </span><span class="caption-text">FOC parameters</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Function</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>R</p></td>
<td><p>Motor Phase resistance in ohms.</p></td>
</tr>
<tr class="row-odd"><td><p>L</p></td>
<td><p>Motor Phase inductance in henry.</p></td>
</tr>
<tr class="row-even"><td><p>Poles</p></td>
<td><p>Number of poles in motor.</p></td>
</tr>
<tr class="row-odd"><td><p>Base RPM</p></td>
<td><p>Maximum RPM the FOC can command. Ie, when speed reference is 1.0 . User can set it to maximum speed of the motor in revolutions per minute</p></td>
</tr>
<tr class="row-even"><td><p>PWM Freq</p></td>
<td><p>PWM frequency used to drive the motor.</p></td>
</tr>
<tr class="row-odd"><td><p>Deadband</p></td>
<td><p>Deadtime in nanoseconds inserted between high side and low side pwm outputs.</p></td>
</tr>
<tr class="row-even"><td><p>Amp Gain</p></td>
<td><p>Gain of the current sense amplifier.</p></td>
</tr>
<tr class="row-odd"><td><p>Rshunt</p></td>
<td><p>Shunt resistor set in the motor driver in ohms.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tuning">
<h3>3.2 Tuning<a class="headerlink" href="#tuning" title="Permalink to this heading">¶</a></h3>
<p>User can use the Tuning section of the GUI to tune the control parameters to desired response.</p>
<figure class="align-default" id="id4">
<img alt="Motor Tuning" src="../../_images/GUI-tuning.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 10 </span><span class="caption-text">Motor Tuning</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Function</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Speed Kp</p></td>
<td><p>Proportional constant in PI for Speed in per units.</p></td>
</tr>
<tr class="row-odd"><td><p>Speed Ki</p></td>
<td><p>Integral constant in PI for Speed in per units.</p></td>
</tr>
<tr class="row-even"><td><p>Id Kp</p></td>
<td><p>Proportional constant in PI for Id in per units.</p></td>
</tr>
<tr class="row-odd"><td><p>Id Ki</p></td>
<td><p>Integral constant in PI for Id in per units.</p></td>
</tr>
<tr class="row-even"><td><p>Iq Kp</p></td>
<td><p>Proportional constant in PI for Iq in per units.</p></td>
</tr>
<tr class="row-odd"><td><p>Iq Ki</p></td>
<td><p>Integral constant in PI for Iq in per units.</p></td>
</tr>
<tr class="row-even"><td><p>esmo Kslide</p></td>
<td><p>Esmitator Kslide value in per units.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="control">
<h3>3.3 Control<a class="headerlink" href="#control" title="Permalink to this heading">¶</a></h3>
<p>The user can use this section of the GUI to control the motor. The user can control the motor speed, motor state, etc.</p>
<figure class="align-default" id="id5">
<img alt="Motor Control" src="../../_images/GUI-control.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 11 </span><span class="caption-text">Motor Control</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Function</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Enable System</p></td>
<td><p>Control whether FOC is enabled or disabled. If set 0, PWM is disabled and the drive is in HighZ state.</p></td>
</tr>
<tr class="row-odd"><td><p>Motor State</p></td>
<td><p>Controls the FOC state. If set to Align, Aligns the motor to A phase. If set to Open Loop, Rotates the motor in open loop with speed from speed Reference input. If set Closed Loop, Rotates the motor in closed loop with speed from speed Reference input.</p></td>
</tr>
<tr class="row-even"><td><p>Speed (pu)</p></td>
<td><p>Display the estimated motor speed in per unit.</p></td>
</tr>
<tr class="row-odd"><td><p>Speed (RPM)</p></td>
<td><p>Display the estimated motor speed in revolutions per minute.</p></td>
</tr>
<tr class="row-even"><td><p>Speed Reference</p></td>
<td><p>Reference speed in per unit input to the speed PI controller. Note that this value is set to the PI controller for speed through a ramp to smoothen the response, thus while viewing the reference to PI speed the user can see a linear ramp to the input value.</p></td>
</tr>
<tr class="row-odd"><td><p>Id Reference</p></td>
<td><p>Reference Id input in per unit. This value is set only in Align motor state.</p></td>
</tr>
<tr class="row-even"><td><p>Id Feedback</p></td>
<td><p>Feedback of Id in per unit.</p></td>
</tr>
<tr class="row-odd"><td><p>Iq Reference</p></td>
<td><p>Reference Iq input in per unit. This value is set only in Open Loop motor state.</p></td>
</tr>
<tr class="row-even"><td><p>Iq Feedback</p></td>
<td><p>Feedback of Iq in per unit.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="protection">
<h3>3.4 Protection<a class="headerlink" href="#protection" title="Permalink to this heading">¶</a></h3>
<p>Section to configure the software protections like over current, under voltage and over voltage.</p>
<figure class="align-default" id="id6">
<img alt="Motor Protection" src="../../_images/GUI-protection.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 12 </span><span class="caption-text">Motor Protection</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Function</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Over Current Limit</p></td>
<td><p>Value of phase current in ampere above which software triggers over current</p></td>
</tr>
<tr class="row-odd"><td><p>Over Voltage Limit</p></td>
<td><p>Value of voltage in volts above which software triggers over voltage fault.</p></td>
</tr>
<tr class="row-even"><td><p>Under Voltage Limit</p></td>
<td><p>Value of voltage in volts below which software triggers under voltage fault.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="fault-status">
<h3>3.5 Fault Status<a class="headerlink" href="#fault-status" title="Permalink to this heading">¶</a></h3>
<p>The fault monitoring and handling is at the top right side of the screen this allows the user to monitor the faults. The Fault led turns red when a fault occurred. To clear all the faults, use the “CLEAR FAULTS” button.</p>
<figure class="align-default" id="id7">
<img alt="Motor Fault Status" src="../../_images/GUI-fault_status.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 13 </span><span class="caption-text">Motor Fault Status</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Function</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CLEAR FAULTS</p></td>
<td><p>Pressing this button clears all the faults.</p></td>
</tr>
<tr class="row-odd"><td><p>DRV Fault</p></td>
<td><p>This Fault is set when fault pin from DRV goes low.</p></td>
</tr>
<tr class="row-even"><td><p>Over Current</p></td>
<td><p>Set when phase currents is above the set over current limit.</p></td>
</tr>
<tr class="row-odd"><td><p>Over Voltage</p></td>
<td><p>Set when bus voltage is above the set over voltage limit.</p></td>
</tr>
<tr class="row-even"><td><p>Under Voltage</p></td>
<td><p>Set when bus voltage is below the set under voltage limit.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="stats">
<h3>3.6 Stats<a class="headerlink" href="#stats" title="Permalink to this heading">¶</a></h3>
<p>Displays the relevant stats like bus voltage and phase currents.</p>
<figure class="align-default" id="id8">
<img alt="Motor Stats" src="../../_images/GUI-stats.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 14 </span><span class="caption-text">Motor Stats</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Function</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VM</p></td>
<td><p>Voltage in the DRV VM input in volts.</p></td>
</tr>
<tr class="row-odd"><td><p>IA</p></td>
<td><p>A phase current in ampere.</p></td>
</tr>
<tr class="row-even"><td><p>IB</p></td>
<td><p>B phase current in ampere.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="plots">
<h3>3.7 Plots<a class="headerlink" href="#plots" title="Permalink to this heading">¶</a></h3>
<p>The user can see a graphical view of the speed, Id and Iq currents using the plots in the GUI.</p>
<figure class="align-default" id="id9">
<img alt="GUI plot" src="../../_images/GUI-plot.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 15 </span><span class="caption-text">GUI plot</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../Sensorless_FOC_Motor_Control_User_Guide.html" class="btn btn-neutral float-left" title="Sensorless FOC Motor Control Library Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="DRV8323RS_Hardware_User_Guide.html" class="btn btn-neutral float-right" title="DRV8323RS Hardware User Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 1995-2023, Texas Instruments Incorporated. All rights reserved.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>